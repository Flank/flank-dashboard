@startuml storage_version_components

legend top right
    | Color | Arrow type |
    |<#B70033>| Existing relationship |
    |<#Green>| New relationship |
endlegend


skinparam defaultTextAlignment center

component "Flutter Service" as flutter_service
component "Firebase Service" as firebase_service
component "Git Service" as git_service

component "Metrics CLI" as metrics_cli

component "Metrics Web application \l sources" as metrics_web_app

cloud "Firebase" {
    component Hosting as hosting
    component Firestore as firestore
}

metrics_cli --> firebase_service : uses
metrics_cli --> flutter_service : uses
metrics_cli -[#Green]-> flutter_service : <color:green>provides supported \n <color:green>storage version
metrics_cli --> git_service : uses

flutter_service --[#Green]-> metrics_web_app : <color:green>sets suppported\n <color:green>storage version
flutter_service ---> metrics_web_app : builds
git_service ---> metrics_web_app : checkouts source code
metrics_web_app ---> hosting : deployed to

firebase_service ---> metrics_web_app : deploys
firebase_service ---> hosting : deploys to
firebase_service -[#Green]--> firestore : <color:green>creates metadata document

metrics_cli -[#Green]--> metrics_web_app : <color:green>gets the\n <color:green> storage version

@enduml