@startuml debug_menu_presentation_layer_class_diagram

package debug_menu {
        package domain {
            package usecases {
                class OpenLocalConfigStorageUseCase {}

                class ReadLocalConfigUseCase {}

                class UpdateLocalConfigUseCase {}

                class CloseLocalConfigStorageUseCase {}
            }

            package parameters {
                class LocalConfigParam {}
            }
        }

        package presentation {
            package state {
                class DebugMenuNotifier {
                    + isLoading : bool

                    - _localConfig : LocalConfig
                    - _defaultLocalConfig : LocalConfig
                    - _fpsMonitorLocalConfigViewModel : FpsMonitorLocalConfigViewModel
                    - _updateLocalConfigUseCase : UpdateLocalConfigUseCase
                    - _readLocalConfigUseCase : ReadLocalConfigUseCase
                    - _closeLocalConfigStorageUseCase : CloseLocalConfigStorageUseCase
                    - _openLocalConfigStorageUseCase : OpenLocalConfigStorageUseCase

                    + Future<void> initializeLocalConfig()
                    + void initializeLocalConfigWithDefaults()
                    + void toggleFpsMonitor(bool isEnabled)
                    - void _setIsLoading(bool isLoading)
                    - void _setLocalConfig(LocalConfig config)
                }
            }

            package view_models {
                class FpsMonitorLocalConfigViewModel {
                    + isEnabled : bool
                }
            }

            package widgets {
                class CoolWidget {}
            }
        }
}

DebugMenuNotifier --> FpsMonitorLocalConfigViewModel : uses
DebugMenuNotifier --> OpenLocalConfigStorageUseCase : uses
DebugMenuNotifier --> ReadLocalConfigUseCase : uses
DebugMenuNotifier --> UpdateLocalConfigUseCase : uses
DebugMenuNotifier --> CloseLocalConfigStorageUseCase : uses
DebugMenuNotifier --> LocalConfigParam : uses

CoolWidget -down-> DebugMenuNotifier : uses
DebugMenuNotifier -up-> CoolWidget : notifies

@enduml
